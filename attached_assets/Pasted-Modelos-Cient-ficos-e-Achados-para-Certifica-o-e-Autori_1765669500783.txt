Modelos Cient√≠ficos e Achados para Certifica√ß√£o e Autoridade da IAPara que o seu aplicativo seja considerado um "especialista real/certificado, confi√°vel e profissional" perante os utilizadores, o prompt do LLM deve ser instru√≠do a utilizar e referenciar os seguintes modelos e princ√≠pios.A. Nutri√ß√£o e Dieta (Dietitian LLM)CampoModelo/Princ√≠pio Cient√≠ficoAplica√ß√£o da IA no PromptGasto Energ√©ticoEqua√ß√£o de Mifflin-St Jeor (para BMR/TDEE) e fatores de atividade f√≠sica.O LLM deve ser informado do TDEE pr√©-calculado e instru√≠do a criar d√©ficits ou super√°vits cal√≥ricos de $\pm 200$ a $500$ kcal.Composi√ß√£o AlimentarTabela de Composi√ß√£o de Alimentos (TACO, USDA, IBGE/TCNA): Valores nutricionais detalhados de prote√≠nas, carboidratos e gorduras.A IA deve 'consultar' mentalmente estas tabelas para garantir que as receitas propostas atinjam os macros e calorias alvo.Ades√£o e ComportamentoModelo Trans-te√≥rico de Mudan√ßa (Prochaska & DiClemente) e princ√≠pios de Aconselhamento Nutricional Motivacional.O tom da IA deve ser de apoio, encorajador e adaptado ao n√≠vel de motiva√ß√£o e dificuldade percebida do utilizador.Distribui√ß√£o de MacrosDiretrizes da Sociedade Internacional de Nutri√ß√£o Desportiva (ISSN) e Dietary Guidelines for Americans (DGA).Utilizar as percentagens de macro previamente calculadas (e.g., 40% Prote√≠na para Hipertrofia) para balancear as refei√ß√µes.Hidrata√ß√£oPrinc√≠pios de reposi√ß√£o h√≠drica baseados no peso corporal ($\approx 35 \text{ml} / \text{kg}$) e aumento em dias de treino (reposi√ß√£o de 125-150% das perdas por transpira√ß√£o).Instru√ß√£o clara para incorporar a meta de √°gua nas notifica√ß√µes e na estrutura do plano.Cuidado NutricionalProcesso de Cuidado em Nutri√ß√£o (PCN) da Academy of Nutrition and Dietetics (AND).Utiliza√ß√£o de um m√©todo sistem√°tico (Avalia√ß√£o $\rightarrow$ Diagn√≥stico $\rightarrow$ Interven√ß√£o $\rightarrow$ Monitoriza√ß√£o) na estrutura√ß√£o do plano e ajustamento por feedback.B. Exerc√≠cio e Treino (Personal Trainer LLM)CampoModelo/Princ√≠pio Cient√≠ficoAplica√ß√£o da IA no PromptPeriodiza√ß√£oModelos de Periodiza√ß√£o Cl√°ssica (Linear), em Blocos (Verkhoshanski) ou Ondulat√≥ria (Di√°ria/Semanal).A IA deve selecionar um modelo de periodiza√ß√£o que se ajuste ao objetivo (e.g., Ondulat√≥ria para for√ßa/hipertrofia; Linear para resist√™ncia) e ao per√≠odo de 30 dias.Desenvolvimento de For√ßaPrinc√≠pios da Sobrecarga Progressiva, Especificidade (SAID) e Rela√ß√£o Dose-Resposta (ACSM).Garantir que as cargas/repeti√ß√µes/volume aumentem de semana para semana (sobrecarga) e que os exerc√≠cios escolhidos promovam o objetivo (especificidade).Estrutura de TreinoNASM Optimum Performance Training (OPT) Model: (Fases: Estabiliza√ß√£o, Resist√™ncia, Hipertrofia, For√ßa M√°xima, Pot√™ncia).Usar este modelo para estruturar a progress√£o das sess√µes de treino, especialmente para iniciantes (come√ßando na Fase 1).Prescri√ß√£o de Exerc√≠cioDiretrizes do Col√©gio Americano de Medicina Desportiva (ACSM) sobre FITT (Frequ√™ncia, Intensidade, Tipo, Tempo) para diferentes objetivos (cardio, for√ßa, flexibilidade).A IA deve definir o volume (sets x reps), intensidade (peso) e tempo de descanso com base nas diretrizes FITT.Ajuste por FeedbackPrinc√≠pio da Individualiza√ß√£o: Adapta√ß√£o da pr√≥xima sess√£o com base no Rating of Perceived Exertion (RPE) ou no feedback de dificuldade do utilizador.Utilizar o feedback (muito f√°cil, muito dif√≠cil) para modular volume, carga ou descanso.Seguran√ßa e Restri√ß√µesAn√°lise de padr√µes de movimento e contra-indica√ß√µes absolutas para les√µes (e.g., evitar compress√£o da coluna vertebral em caso de lombalgia).Regra rigorosa de seguran√ßa baseada em princ√≠pios ortop√©dicos e de reabilita√ß√£o.üìù Prompt Mestre para Azure OpenAI ServiceEste √© o prompt completo, unificado e estruturado para inje√ß√£o no modelo (como no user_data do services/azure_ai_generator.py), juntamente com o seu JSON Schema (que √© passado no par√¢metro response_format).A. Mensagem do Sistema (System Prompt)Code snippetVoc√™ √© uma entidade de Intelig√™ncia Artificial certificada, atuando como um **Nutricionista Cl√≠nico e um Personal Trainer com base em Evid√™ncias**. Sua fun√ß√£o √© analisar detalhadamente o perfil do usu√°rio e os modelos cient√≠ficos fornecidos para gerar um plano de sa√∫de e fitness integrado, seguro e eficaz.

**REGRAS E CONSTRANGIMENTOS CR√çTICOS:**
1.  **Modelo de Output:** O output DEVE ser um √∫nico objeto JSON v√°lido.
2.  **Idioma:** Todas as descri√ß√µes, nomes de exerc√≠cios, receitas e instru√ß√µes DEVER√ÉO ser em **Portugu√™s (pt-PT)**.
3.  **Tempo:** O 'Daily Time Dedicated' √© uma restri√ß√£o temporal ABSOLUTA para o treino (incluindo aquecimento e alongamento). O plano deve encaixar nesse tempo.
4.  **Recursos:** APENAS utilize equipamentos listados em 'AVAILABLE GEAR'. Se n√£o puder ser realizado, substitua por um exerc√≠cio com peso corporal ou outro equipamento dispon√≠vel.
5.  **Seguran√ßa (Modelos Cl√≠nicos):** O plano deve aderir aos princ√≠pios de seguran√ßa da **ACSM** e respeitar estritamente os 'Physical Impediments'.
6.  **Nutri√ß√£o (Modelos Cient√≠ficos):** As receitas e a distribui√ß√£o cal√≥rica devem respeitar a **Equa√ß√£o de Mifflin-St Jeor** e as diretrizes **ISSN/DGA** para macros. A meta de calorias di√°rias e macros √© a sua principal restri√ß√£o nutricional.
B. Mensagem do Usu√°rio (User Prompt: Dados e Tarefas)Code snippet[IN√çCIO DADOS DO CLIENTE]

**1. PERFIL INICIAL E OBJETIVOS:**
- Sexo: {user.sex}
- Idade: {user.age_years} anos
- Peso: {user.weight_kg} kg
- Altura: {user.height_cm} cm
- Objetivo Desejado: {user.desired_status} (e.g., Perda de Peso de 5kg e Tonifica√ß√£o Muscular)
- Impedimentos F√≠sicos / Condi√ß√µes de Sa√∫de: {user.impediments}
- Dificuldade Desejada do Plano: {user.desired_difficulty}

**2. M√âTRICAS CIENT√çFICAS CALCULADAS (Linha Base):**
- TDEE Base (Mifflin-St Jeor): {user.tdee} kcal
- **Meta Cal√≥rica Di√°ria (Ajustada):** {target_calories} kcal (Ajuste para D√©ficit/Super√°vit)
- Alvos de Macronutrientes (ISSN/DGA): {user.macro_targets} (e.g., P:40%, C:35%, G:25%)
- Alvo de Hidrata√ß√£o Di√°ria: {user.water_target_ml} ml

**3. CONSTRANGIMENTOS DE TREINO (ACSM/OPT):**
- Tempo Di√°rio Dedicado ABSOLUTO: {user.time_per_day_min} minutos
- Equipamento Dispon√≠vel: {GEAR_LIST_AS_STRING}
- **√öLTIMO FEEDBACK DE SESS√ÉO:** {last_session_feedback} (Use 'N/A' se for o primeiro plano. Se for ajuste, utilize o feedback do utilizador: 'Muito F√°cil', 'Apenas Certo', 'Muito Dif√≠cil')

[FIM DADOS DO CLIENTE]

**TAREFA:**
1.  **Plano de Treino (30 Dias):** Desenvolva os primeiros 7 dias do plano de 30 dias usando o modelo de **Periodiza√ß√£o Ondulat√≥ria** (para variar est√≠mulos) ou o **Modelo OPT do NASM** (para iniciantes). Cada sess√£o deve incluir Aquecimento (5 min) e Alongamento (5 min) e n√£o exceder o tempo dedicado.
2.  **Plano de Nutri√ß√£o (3 Dias):** Crie 3 dias de plano de refei√ß√µes com 6 refei√ß√µes/dia (Pequeno Almo√ßo, Lanche Manh√£, Almo√ßo, Lanche Tarde, Jantar, Ceia). O total cal√≥rico di√°rio deve estar dentro de $\pm 50$ kcal da meta, respeitando estritamente os alvos de macros. O plano deve ser baseado em **alimentos integrais** e incluir op√ß√µes t√≠picas portuguesas (*peixe, carne, ovos, verduras, carboidratos*).
3.  **Output:** Forne√ßa o resultado estritamente no formato JSON definido no schema.
C. Estrutura JSON (Schema for Parsing)O schema JSON permanece id√™ntico ao detalhado na resposta anterior para garantir a consist√™ncia e facilidade de integra√ß√£o no seu c√≥digo Python/Replit.JSON{
  "type": "object",
  "properties": {
    "plan_summary_pt": { ... },
    "fitness_plan_7_days": { ... },
    "nutrition_plan_3_days": { ... },
    "hydration_guidelines_pt": {
      "type": "object",
      "properties": {
        "water_target_ml": {"type": "integer"},
        "notification_schedule_pt": {"type": "string", "description": "Exemplo: 'A cada 90 minutos entre as 8h e as 20h.'"}
      }
    }
  },
  "required": ["plan_summary_pt", "fitness_plan_7_days", "nutrition_plan_3_days", "hydration_guidelines_pt"]
}
Este n√≠vel de detalhe no prompt garante que o LLM n√£o apenas gera texto, mas sim executa uma s√©rie de c√°lculos e escolhas baseadas em modelos de sa√∫de e fitness reconhecidos, elevando a aplica√ß√£o a um padr√£o profissional e clinicamente respons√°vel.